<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="Keywords" content="">
    <meta name="full-screen" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#006cb4">
    <meta name="apple-mobile-web-app-title" content="TOM&#39;s zone">
    <meta name="description" content="TOM&#39;s zone">
    <link rel="dns-prefetch" href="https://hasaki.xyz">
    <link rel="preconnect" href="https://hasaki.xyz">
    <link rel="manifest" href="/sw/manifest.json"/>
<title>ä½¿ç”¨ nextcloud æ­å»ºä¸ªäººç§æœ‰ç½‘ç›˜ - TOM&#39;s zone</title>

<meta name="description" content="å›½å†…å„å¤§äº‘ç½‘ç›˜è¦ä¹ˆé™é€Ÿè¦ä¹ˆéœ€è¦å……å€¼ vip ã€è¶…çº§ vipã€è¶…è¶…çº§ vipã€‚
å›½å¤–çš„ä¸€äº›ä¼˜è´¨äº‘ç½‘ç›˜å¦‚ google drive å’Œ one drive ç­‰ç”±äºå’Œè°å› ç´ åˆæ— æ³•é¡ºåˆ©çš„è®¿é—®ã€‚
æœ¬æ¥æƒ³ä¹°ä¸ª nas ï¼Œçœ‹åˆ°ä»·æ ¼å’Œç»„ raid çš„æˆæœ¬æ”¾å¼ƒäº†ã€‚
åˆšå¥½æˆ‘æœ‰ä¸€å°æ–°ç»„è£…çš„ä¸»æœºç”µè„‘ï¼Œå¹³æ—¶ä¹Ÿæ˜¯å¶å°”å¼€ç€ï¼Œæ‰€ä»¥ç‰¹æ„ä¹°äº†ä¸ª 2t çš„å¸Œæ·æ•°æ®ç›˜ï¼Œå‡†å¤‡æ­å»ºä¸€å¥—ç§æœ‰äº‘çš„ç¯å¢ƒç»™å®¶åº­ç”¨ã€‚
å¼€æºäº‘ç›˜é€‰æ‹©  å…¶å®åœ¨æ­å»ºä¹‹å‰ï¼Œè€ƒè™‘è¿‡è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ é¢„è§ˆï¼Œåæ¥å‘ç°éœ€è¦è€ƒè™‘çš„é—®é¢˜å¤ªå¤šå’ğŸ¤£
 æ­å»ºå‰æˆ‘ä»”ç»†çœ‹äº†ä¸€ä¸‹å„ä¸ªå¼€æºç§æœ‰äº‘ç›˜çš„å®ç°ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š
 owncloud sealife nextcloud  å¯¹è¿™å‡ å®¶æ¯”è¾ƒäº†ä»¥ä¸‹ï¼Œè€ƒè™‘äº†ä»¥ä¸‹å› ç´ ï¼š
 å¼€æºä¸”å…è´¹ï¼Œå¯ä»¥è‡ªå®šä¹‰æ’ä»¶å¼€å‘ å…¨å®¢æˆ·ç«¯çš„æ”¯æŒï¼Œå…è´¹æ›´å¥½ï¼Œui è§†è§‰è¿˜èƒ½è¿‡å¾—å» æ”¯æŒå¤–æŒ‚ç£ç›˜ï¼Œå¯ä»¥éšæ—¶æ›´æ”¹ï¼Œä¸éœ€è¦åˆ†å—ã€åŠ å¯†å’Œè¿‡å¤šçš„æ–‡ä»¶æ§åˆ¶ã€æƒé™æ§åˆ¶ç­‰ç­‰ï¼Œç®€å•å°±å¥½ éƒ¨ç½²éš¾åº¦ï¼Œvm è¿˜è¡Œï¼Œæœ€å¥½å¯ä»¥ Docker  æœ€ç»ˆæˆ‘é€‰æ‹©äº† nextcloudï¼Œè‡³äºæ›´å¤šçš„è¯¦ç»†å·®å¼‚ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚
å†…ç½‘ç©¿é€ ç”±äºå®¶é‡Œçš„ç”µä¿¡æ²¡æœ‰å¤–ç½‘ ip ï¼Œæ‰“ç”µè¯ç»™è¿è¥å•†ä¹Ÿæ— æµäºäº‹ï¼Œåªèƒ½é€‰æ‹©å†…ç½‘ç©¿é€ã€‚
å†…ç½‘ç©¿é€é€‰æ‹©äº†å¾ˆå¤šåŠæ³•ï¼š
 æ ¹æ®å¼€æºå®ç°è‡ªå·±éƒ¨ç½²åˆ°ä¸€å°å…¬å…±å¯è®¿é—®çš„æœåŠ¡å™¨ä¸Šï¼Œæ¯”å¦‚ï¼šfrpã€ngrokç­‰ç­‰ ä½¿ç”¨ç°æœ‰çš„å†…ç½‘ç©¿é€æœåŠ¡å•†ï¼Œæ¯”å¦‚ï¼šèŠ±ç”Ÿå£³ã€natapp ç­‰ç­‰  æœ€ç»ˆæˆ‘é€‰æ‹©äº† natapp å…è´¹ä½¿ç”¨ç‰ˆ
å¼€å§‹æ­å»º æˆ‘ä¸ªäººçš„ç½‘ç›˜éœ€æ±‚åªæ˜¯å¶å°”è®©æˆ‘çˆ¸å¦ˆæŠŠç…§ç‰‡ä¸Šä¼ åˆ°æˆ‘çš„ä¸»æœºä¸Šã€‚
å¯¹æ€§èƒ½ã€é€Ÿåº¦ã€å¯æŒç»­æ€§éƒ½æ²¡æœ‰å¤ªé«˜çš„è¦æ±‚ï¼Œæ‰€ä»¥å¾ˆå¤šæ¡ä»¶éƒ½å¯ä»¥ç®€åŒ–ï¼Œåªè¦ä¿è¯æ•°æ®å®Œæ•´æ€§å°±å¯ä»¥äº†ã€‚
é¦–å…ˆåœ¨ Windows ä¸Šå®‰è£…æ‰€éœ€è¦çš„ç¯å¢ƒï¼š Docker ã€Python ç­‰ã€‚å¹¶ä¸”åœ¨ E ç›˜ä¸‹åˆ›å»ºäº†ç‰¹å®šçš„ nas æ–‡ä»¶å¤¹æ¥ä½œä¸º nextcloud çš„ç›®å½•ã€‚">




    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono|Lato|Raleway">


    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/ocean.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/javascript.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/python.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/go.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/css.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/swift.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/objectivec.min.js"></script>


    <link rel="stylesheet" href="/css/bundle.min.css"/>
<script src="/js/bundle.min.js"></script>
<style>
	a { color: #ff8181; }
	blockquote {
		border-left-color: #ff8181;
		border-right-color: #ff8181; }
	.bar a:hover {
		color: #ff8181;
		text-decoration: none; }
	.sep {
		margin-top: 2rem;
		margin-bottom: 1rem;
		margin-left:0;
		width: 24rem;
		border-top: 2px solid #ff8181; }
    .bar li.active a{
        color:#ff8181;
    }
</style>

</head>

<body>
<header class="container no-print">
	<div class="u-header">
		<nav class="bar">
	<ul><li>
			<a href="/">
				<img class="icon-text" src="/img/prev.svg"/>
			</a>
		</li>
		
		<li class="active"><a href="/blog/">Blog</a></li></ul>
</nav>

	</div>
</header>
<main class="container">

<article>
    <header><hgroup id="brand">
	<h1>ä½¿ç”¨ nextcloud æ­å»ºä¸ªäººç§æœ‰ç½‘ç›˜</h1>
	<h5>
		
		<time datetime="2019-02-12 10:58:40 &#43;0800 CST">Feb 12, 2019</time>
		<span class="no-print">
			-
			
			<a href="/tags/docker">Docker</a>
			
			<a href="/tags/%e6%8a%98%e8%85%be">æŠ˜è…¾</a>
			</span>
	</h5>

	
	<a style="margin-top: 1.2rem;display: inline-block;" href="https://github.com/V-Tom/blog/blob/hugo/content/blog/2019-02-12-%E4%BD%BF%E7%94%A8%20nextcloud%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98/index.md">âœ¨âœ¨âœ¨You can Edit this Article on Github</a>
	
	
	
</hgroup>
<hr class="sep" /></header>
    <section id="markdown">
        

<p>å›½å†…å„å¤§äº‘ç½‘ç›˜è¦ä¹ˆé™é€Ÿè¦ä¹ˆéœ€è¦å……å€¼ vip ã€è¶…çº§ vipã€è¶…è¶…çº§ vipã€‚</p>

<p>å›½å¤–çš„ä¸€äº›ä¼˜è´¨äº‘ç½‘ç›˜å¦‚ <code>google drive</code> å’Œ <code>one drive</code> ç­‰ç”±äºå’Œè°å› ç´ åˆæ— æ³•é¡ºåˆ©çš„è®¿é—®ã€‚</p>

<p>æœ¬æ¥æƒ³ä¹°ä¸ª <code>nas</code> ï¼Œçœ‹åˆ°ä»·æ ¼å’Œç»„ <code>raid</code> çš„æˆæœ¬æ”¾å¼ƒäº†ã€‚</p>

<p>åˆšå¥½æˆ‘æœ‰ä¸€å°æ–°ç»„è£…çš„ä¸»æœºç”µè„‘ï¼Œå¹³æ—¶ä¹Ÿæ˜¯å¶å°”å¼€ç€ï¼Œæ‰€ä»¥ç‰¹æ„ä¹°äº†ä¸ª <code>2t</code> çš„å¸Œæ·æ•°æ®ç›˜ï¼Œå‡†å¤‡æ­å»ºä¸€å¥—ç§æœ‰äº‘çš„ç¯å¢ƒç»™å®¶åº­ç”¨ã€‚</p>

<h3 id="å¼€æºäº‘ç›˜é€‰æ‹©">å¼€æºäº‘ç›˜é€‰æ‹©</h3>

<blockquote>
<p>å…¶å®åœ¨æ­å»ºä¹‹å‰ï¼Œè€ƒè™‘è¿‡è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ é¢„è§ˆï¼Œåæ¥å‘ç°éœ€è¦è€ƒè™‘çš„é—®é¢˜å¤ªå¤šå’ğŸ¤£</p>
</blockquote>

<p>æ­å»ºå‰æˆ‘ä»”ç»†çœ‹äº†ä¸€ä¸‹å„ä¸ªå¼€æºç§æœ‰äº‘ç›˜çš„å®ç°ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>

<ul>
<li>owncloud</li>
<li>sealife</li>
<li>nextcloud</li>
</ul>

<p>å¯¹è¿™å‡ å®¶æ¯”è¾ƒäº†ä»¥ä¸‹ï¼Œè€ƒè™‘äº†ä»¥ä¸‹å› ç´ ï¼š</p>

<ul>
<li>å¼€æºä¸”å…è´¹ï¼Œå¯ä»¥è‡ªå®šä¹‰æ’ä»¶å¼€å‘</li>
<li>å…¨å®¢æˆ·ç«¯çš„æ”¯æŒï¼Œå…è´¹æ›´å¥½ï¼Œui è§†è§‰è¿˜èƒ½è¿‡å¾—å»</li>
<li>æ”¯æŒå¤–æŒ‚ç£ç›˜ï¼Œå¯ä»¥éšæ—¶æ›´æ”¹ï¼Œä¸éœ€è¦åˆ†å—ã€åŠ å¯†å’Œè¿‡å¤šçš„æ–‡ä»¶æ§åˆ¶ã€æƒé™æ§åˆ¶ç­‰ç­‰ï¼Œç®€å•å°±å¥½</li>
<li>éƒ¨ç½²éš¾åº¦ï¼Œvm è¿˜è¡Œï¼Œæœ€å¥½å¯ä»¥ Docker</li>
</ul>

<p>æœ€ç»ˆæˆ‘é€‰æ‹©äº† <code>nextcloud</code>ï¼Œè‡³äºæ›´å¤šçš„è¯¦ç»†å·®å¼‚ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚</p>

<h3 id="å†…ç½‘ç©¿é€">å†…ç½‘ç©¿é€</h3>

<p>ç”±äºå®¶é‡Œçš„ç”µä¿¡æ²¡æœ‰å¤–ç½‘ ip ï¼Œæ‰“ç”µè¯ç»™è¿è¥å•†ä¹Ÿæ— æµäºäº‹ï¼Œåªèƒ½é€‰æ‹©å†…ç½‘ç©¿é€ã€‚</p>

<p>å†…ç½‘ç©¿é€é€‰æ‹©äº†å¾ˆå¤šåŠæ³•ï¼š</p>

<ul>
<li>æ ¹æ®å¼€æºå®ç°è‡ªå·±éƒ¨ç½²åˆ°ä¸€å°å…¬å…±å¯è®¿é—®çš„æœåŠ¡å™¨ä¸Šï¼Œæ¯”å¦‚ï¼šfrpã€ngrokç­‰ç­‰</li>
<li>ä½¿ç”¨ç°æœ‰çš„å†…ç½‘ç©¿é€æœåŠ¡å•†ï¼Œæ¯”å¦‚ï¼šèŠ±ç”Ÿå£³ã€natapp ç­‰ç­‰</li>
</ul>

<p>æœ€ç»ˆæˆ‘é€‰æ‹©äº† natapp å…è´¹ä½¿ç”¨ç‰ˆ</p>

<h3 id="å¼€å§‹æ­å»º">å¼€å§‹æ­å»º</h3>

<p>æˆ‘ä¸ªäººçš„ç½‘ç›˜éœ€æ±‚åªæ˜¯å¶å°”è®©æˆ‘çˆ¸å¦ˆæŠŠç…§ç‰‡ä¸Šä¼ åˆ°æˆ‘çš„ä¸»æœºä¸Šã€‚</p>

<p>å¯¹æ€§èƒ½ã€é€Ÿåº¦ã€å¯æŒç»­æ€§éƒ½æ²¡æœ‰å¤ªé«˜çš„è¦æ±‚ï¼Œæ‰€ä»¥å¾ˆå¤šæ¡ä»¶éƒ½å¯ä»¥ç®€åŒ–ï¼Œåªè¦ä¿è¯æ•°æ®å®Œæ•´æ€§å°±å¯ä»¥äº†ã€‚</p>

<p>é¦–å…ˆåœ¨ Windows ä¸Šå®‰è£…æ‰€éœ€è¦çš„ç¯å¢ƒï¼š <code>Docker</code> ã€<code>Python</code> ç­‰ã€‚å¹¶ä¸”åœ¨ <code>E</code> ç›˜ä¸‹åˆ›å»ºäº†ç‰¹å®šçš„ <code>nas</code> æ–‡ä»¶å¤¹æ¥ä½œä¸º <code>nextcloud</code> çš„ç›®å½•ã€‚</p>

<h3 id="é…ç½®-docker">é…ç½® Docker</h3>

<p>åˆ›å»º <code>docker-compose.yml</code> æ–‡ä»¶æ¥é…ç½® <code>Docker</code> ï¼š</p>

<pre><code class="language-yaml">
version: '2'

volumes:
  data:
  config:
  apps:

services:

  app:
    image: nextcloud
    ports:
      - 8080:80
    volumes:
      - ./data:/var/www/html/data
      - ./config:/var/www/html/config
      - ./apps:/var/www/html/apps

      # å¤–æŒ‚ç£ç›˜ /e/nas/extend-disk/ ä½œä¸ºåˆå§‹æ•°æ®æº
      - /e/nas/extend-disk/:/home

    restart: always

</code></pre>

    </section>
    <nav class="no-print post-nav">
        
        <a class="prev-post" href="https://hasaki.xyz/blog/working-tips/">
            <img class="icon-text" src="/img/prev.svg"/>working tips</a>
        
        
        <a class="next-post" href="https://hasaki.xyz/blog/2019-03-04-grpc-%E6%B5%85%E8%B0%88%E4%B8%8E%E5%AE%9E%E8%B7%B5/">gRPC æµ…è°ˆä¸å®è·µ<img class="icon-text" src="/img/next.svg"/>
        </a>
        
    </nav>
</article>



<div id="disqus_thread" class="no-print"></div>
<script type="text/javascript">
    'use strict';
    (function () {
        if ('localhost' != window.location.hostname) {
            var a = document.querySelector('#disqus_thread');
            new IntersectionObserver(function (b) {
                b.forEach(function (d) {
                    if (0 < d.intersectionRatio && !a.classList.contains('active')) {
                        var e = document.createElement('script');
                        e.type = 'text/javascript', e.async = !0;
                        e.src = '//' + 'hasaki-xyz' + '.disqus.com/embed.js', (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(e), a.classList.add('active')
                    }
                })
            }, {rootMargin: '0px', threshold: 1}).observe(a)
        }
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


<style rel="catalog">
    #catalog {
        position: fixed;
        left: 3vw;
        top: 8vh;
    }

    .cl-wrapper {
        position: relative;
    }

    .cl-wrapper ul, .cl-wrapper li {
        margin: 0;
        -moz-padding-start: 12px;
        -webkit-padding-start: 12px;
        list-style: none;
    }

    .cl-wrapper li > .cl-link.cl-link-active {
        color: #ff8181;
        transition: .5s;
    }

    .cl-wrapper li > .cl-transform.cl-link-active {
        transform: translate(3px);
    }

    .cl-wrapper .cl-link {
        cursor: pointer;
        color: rgba(52, 73, 94, 0.5);
        font-size: 13px;
        transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .cl-wrapper .cl-marker {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }

    .cl-wrapper .cl-marker path {
        transition: all 0.3s ease;
    }
</style>
<main id="catalog"></main>
<script rel="catalog">
    void function () {
        
        if (window.innerWidth < 1024 || /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
            return
        }

        const Catalog = (function () {
            return function (opts) {
                let defaultOpts = {
                    linkClass: 'cl-link',                             
                    linkActiveClass: 'cl-link-active',                
                    datasetName: 'data-cata-target',                  
                    selector: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],   
                    scrollWrapper: null,                              
                    activeHook: null,                                 
                    topMargin: 0,
                    bottomMargin: 0,
                    cool: true                                        
                }

                const Opt = Object.assign({}, defaultOpts, opts)

                const $content = document.getElementById(Opt.contentEl)                          
                const $scroll_wrap = window   
                const $catalog = document.getElementById(Opt.catalogEl)                          

                let allCatalogs = $content.querySelectorAll(Opt.selector.join())
                let tree = getCatalogsTree(allCatalogs)

                try {
                    $catalog.innerHTML = `<div class='cl-wrapper'>${generateHtmlTree(tree, {id: -1})}<svg class="cl-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
            <path stroke="#ff8181" stroke-width="3" fill="transparent" stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" stroke-linejoin="round" transform="translate(-0.5, -0.5)" />
            </svg></div>`
                } catch (e) {
                    console.error('error in progress-catalog', e)
                }


                const tocPath = $catalog.querySelector('.cl-marker path')
                let tocItems, pathLength    

                
                window.addEventListener('resize', drawPath)
                $catalog.addEventListener('click', clickHandler)
                Opt.cool && $scroll_wrap.addEventListener('scroll', coolScrollHandler)
                Opt.cool || $scroll_wrap.addEventListener('scroll', simpleScrollHandler)

                setTimeout(drawPath)          

                

                function drawPath() {
                    tocItems = [...$catalog.querySelectorAll('li')]
                    tocItems = tocItems.map(function (liDom) {
                        const anchor = liDom.querySelector(`.${Opt.linkClass}`)
                        const target = document.getElementById(anchor.getAttribute('data-cata-target'))

                        return {
                            listItem: liDom,
                            anchor: anchor,
                            target: target
                        }
                    })
                    tocItems = tocItems.filter(item => !!item.target)

                    const path = []
                    let pathIndent

                    tocItems && tocItems.forEach(function (item, idx) {
                        const {offsetLeft, offsetTop, offsetHeight} = item.anchor,
                            x = Opt.cool ? offsetLeft - 5 : offsetLeft,
                            y = offsetTop,
                            height = offsetHeight

                        if (idx === 0) {
                            path.push('M', x, y, 'L', x, y + height)
                            item.pathStart = 0
                        }
                        else {
                            if (pathIndent !== x) path.push('L', pathIndent, y)     
                            path.push('L', x, y)
                            tocPath.setAttribute('d', path.join(' '))
                            item.pathStart = tocPath.getTotalLength() || 0
                            path.push('L', x, y + height)
                        }
                        pathIndent = x
                        tocPath.setAttribute('d', path.join(' '))
                        item.pathEnd = tocPath.getTotalLength()
                    })
                    pathLength = tocPath.getTotalLength()
                    coolScrollHandler()
                }

                

                function coolScrollHandler() {
                    const wrapHeight = document.documentElement.offsetHeight
                    let pathStart = pathLength,
                        pathEnd = 0,
                        visibleItems = 0
                    tocItems.forEach(function (liItem) {
                        const {bottom, top} = liItem.target.getBoundingClientRect(),
                            firstChild = liItem.listItem.firstChild
                        if (bottom > Opt.topMargin && top < wrapHeight - Opt.bottomMargin) {
                            firstChild.classList.remove(Opt.linkActiveClass)
                            Opt.cool && firstChild.classList.remove('cl-transform')
                        } else {
                            pathStart = Math.min(liItem.pathStart, pathStart)
                            pathEnd = Math.max(liItem.pathEnd, pathEnd)
                            visibleItems += 1
                            firstChild.classList.add(Opt.linkActiveClass)
                            Opt.cool && firstChild.classList.add('cl-transform')
                        }
                    })
                    if (visibleItems > 0 && pathStart < pathEnd && Opt.cool) {
                        tocPath.setAttribute('stroke-dashoffset', '1')
                        tocPath.setAttribute('stroke-dasharray', `1, ${pathStart}, ${pathEnd - pathStart}, ${pathLength}`)
                        tocPath.setAttribute('opacity', '1')
                    }
                    else {
                        tocPath.setAttribute('opacity', '0')
                    }
                }

                

                function simpleScrollHandler(el) {
                    let scrollToEl = null
                    for (let i = allCatalogs.length - 1; i >= 0; i--) {
                        if (allCatalogs[i].offsetTop <= $scroll_wrap.scrollTop) {
                            scrollToEl = allCatalogs[i]
                            break
                        }
                    }
                    if (scrollToEl) setActiveItem(scrollToEl.id)
                    else setActiveItem(null)            
                }

                

                function clickHandler({target}) {
                    const datasetId = target.getAttribute(Opt.datasetName)
                    target.classList.contains(Opt.linkClass) &&
                    document.getElementById(datasetId)
                        .scrollIntoView({behavior: "smooth", block: "start"})
                }

                

                function getCatalogsTree(catalogs) {
                    let title, tagName, tree = [], treeItem = {}, parentItem = {id: -1}, lastTreeItem = null, id

                    for (let i = 0; i < catalogs.length; i++) {
                        title = catalogs[i].innerText || catalogs[i].textContent
                        tagName = catalogs[i].tagName
                        id = 'heading-' + i
                        catalogs[i].id = id
                        treeItem = {
                            name: title,
                            tagName: tagName,
                            id: id,
                            level: +getLevel(tagName),
                            parent: parentItem
                        }
                        if (lastTreeItem) {
                            if (getLevel(treeItem.tagName) > getLevel(lastTreeItem.tagName)) {
                                treeItem.parent = lastTreeItem
                            } else {
                                treeItem.parent = findParent(treeItem, lastTreeItem)
                            }
                        }
                        lastTreeItem = treeItem
                        tree.push(treeItem)
                    }
                    return tree
                }

                

                function findParent(currTreeItem, lastTreeItem) {
                    let lastTreeParent = lastTreeItem.parent
                    while (lastTreeParent && (getLevel(currTreeItem.tagName) <= getLevel(lastTreeParent.tagName))) {
                        lastTreeParent = lastTreeParent.parent
                    }
                    return lastTreeParent || {id: -1}
                }

                

                function getLevel(tagName) {
                    return tagName ? tagName.slice(1) : 0
                }

                

                function generateHtmlTree(tree, _parent) {
                    let ul, hasChild = false
                    if (tree) {
                        ul = `<ul>`
                        for (let i = 0; i < tree.length; i++) {
                            if (isEqual(tree[i].parent, _parent)) {
                                hasChild = true
                                ul += `<li><div class='${ Opt.linkClass } cl-level-${ tree[i].level }' ${Opt.datasetName}='${ tree[i].id }'>${tree[i].name}</div>`
                                ul += generateHtmlTree(tree, tree[i])
                                ul += '</li>'
                            }
                        }
                        ul += `</ul>`
                    }
                    return hasChild ? ul : ''
                }

                /**
                 * åˆ¤æ–­æ˜¯å¦æ˜¯ç›¸åŒèŠ‚ç‚¹
                 */
                function isEqual(node, node2) {
                    return node && node2 && typeof node === 'object' && typeof node2 === 'object' && node.id === node2.id
                }

                /**
                 *  è®¾ç½®é€‰ä¸­çš„é¡¹
                 */
                function setActiveItem(id) {
                    let catas = [...$catalog.querySelectorAll(`[${Opt.datasetName}]`)]

                    catas.forEach(T => {
                        if (T.getAttribute(Opt.datasetName) === id) {
                            typeof Opt.activeHook === 'function' &&
                            !T.classList.contains(Opt.linkActiveClass) &&
                            Opt.activeHook.call(this, T)                    // æ‰§è¡Œactiveé’©å­
                            T.classList.add(Opt.linkActiveClass)
                        } else {
                            T.classList.remove(Opt.linkActiveClass)
                        }
                    })
                }
            }
        })();
        window.addEventListener('DOMContentLoaded', _ => new Catalog({
            contentEl: 'markdown',
            catalogEl: 'catalog'
        }))
    }();
</script>
			<hr class="sep" />
		</main>
		<footer class="container no-print">
			<div class="u-footer">
				
<a href="mailto:iamnomand@gmail.com"><img class="icon-social" src="/img/email.svg" alt="Email Me!"/></a>


<a href="https://github.com/v-tom/"><img class="icon-social" src="/img/github.svg" alt="Github"/></a>


<a href="https://twitter.com/iamnomand"><img class="icon-social" src="/img/twitter.svg" alt="Twitter"/></a>

<a href="https://hasaki.xyz/index.xml" target="_blank"><img class="icon-social" src="/img/feed.svg" alt="Feed"></a>

				<p>
					
					
					Early 2016 ~ 2019 &copy; TOM's Zone
					
					
				</p>
				
				<a href="#brand">
					<img class="icon-text" src="/img/toup.svg" alt="To Up"/>
					<span>Back to Up</span>
				</a>
				
			</div>
		</footer>
		
		<script>hljs.initHighlightingOnLoad();</script>
		
	</body>
</html>

